<div class="chat-container" #chatContainer>
  <div class="chat-messages">
    <div *ngFor="let message of chatMessages" class="message" [ngClass]="{'user': message.startsWith('You: '), 'bot': message.startsWith('Zoning GPT: ')}">
      {{ message }}
    </div>
    <div *ngIf="isLoading" class="message bot loading">
      <mat-spinner diameter="20"></mat-spinner>
      <span>Zoning GPT is thinking...</span>
    </div>
  </div>
</div>

<div class="input-container">
  <input [(ngModel)]="newMessage" (keyup.enter)="sendMessage()" placeholder="Type your message..." class="chat-input" [disabled]="isLoading">
  <button class="send-button" (click)="sendMessage()" [disabled]="isLoading || !newMessage.trim() || !selectedCounty">
    <span class="send-icon">âž¤</span>
  </button>
</div>